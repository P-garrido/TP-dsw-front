{"file":"C:\\Users\\Usuario\\repos(Desarrollo)\\TP-dsw-front\\src\\app\\users\\users.component.spec.ts","mappings":"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","names":[],"sources":["C:\\Users\\Usuario\\repos(Desarrollo)\\TP-dsw-front\\src\\app\\users\\users.component.spec.ts"],"sourcesContent":["import { ComponentFixture, TestBed } from '@angular/core/testing';\r\n\r\nimport { UsersComponent } from './users.component';\r\nimport { UsersService } from '../users.service';\r\nimport { userServiceMock, usersResponse } from '../mocks/users.service.mock';\r\nimport { AccordionComponent } from 'ngx-bootstrap/accordion';\r\nimport { of } from 'rxjs';\r\nimport { User } from '../models/user';\r\n\r\ndescribe('UsersComponent', () => {\r\n  let component: UsersComponent;\r\n  let fixture: ComponentFixture<UsersComponent>;\r\n\r\n  beforeEach(() => {\r\n    TestBed.configureTestingModule({\r\n      declarations: [UsersComponent, AccordionComponent],\r\n      imports: [],\r\n      providers: [\r\n        {provide: UsersService, useClass: userServiceMock}\r\n      ]\r\n    });\r\n    fixture = TestBed.createComponent(UsersComponent);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('should create', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n\r\n  it('should get all users', () => {\r\n    const fixture = TestBed.createComponent(UsersComponent);\r\n    const service = TestBed.inject(UsersService);\r\n    const result: any[] =   [\r\n      {\r\n        id_usuario: 1,\r\n        nombre_usuario: \"prueba\",\r\n        contrase単a: \"prueba\",\r\n        nombre: \"prueba\",\r\n        apellido: \"prueba\",\r\n        email: \"prueba\",\r\n        telefono: \"00000000\",\r\n        direccion: \"prueba\",\r\n        tipo_usuario: 0\r\n      },\r\n      {\r\n        id_usuario: 2,\r\n        nombre_usuario: \"prueba2\",\r\n        contrase単a: \"prueba2\",\r\n        nombre: \"prueba2\",\r\n        apellido: \"prueba2\",\r\n        email: \"prueba2\",\r\n        telefono: \"11111111\",\r\n        direccion: \"prueba2\",\r\n        tipo_usuario: 1\r\n      }\r\n    ];\r\n    const spyGetUser = jest.spyOn(service, \"getAllUsers\").mockReturnValue(of(result));\r\n    const component = fixture.componentInstance;\r\n    component.getAllUsers();\r\n    console.log(component.list)\r\n    expect(component.list.length).toBeGreaterThan(0)\r\n    expect(component.list[0]?.userName).toBeDefined();\r\n  });\r\n\r\n  it('should get only clients', () => {\r\n    const fixture = TestBed.createComponent(UsersComponent);\r\n    const service = TestBed.inject(UsersService);\r\n    const result: any[] =   [\r\n      {\r\n        id_usuario: 1,\r\n        nombre_usuario: \"cliente\",\r\n        contrase単a: \"cliente\",\r\n        nombre: \"cliente\",\r\n        apellido: \"cliente\",\r\n        email: \"cliente\",\r\n        telefono: \"00000000\",\r\n        direccion: \"cliente\",\r\n        tipo_usuario: 0 // 0 es el numero correspondiente a los clientes\r\n      }\r\n    ];\r\n    const spyGetUser = jest.spyOn(service, \"getAllUsers\").mockReturnValue(of(result));\r\n    const component = fixture.componentInstance;\r\n    component.getAllClients();\r\n    expect(component.list.length).toBeGreaterThan(0);\r\n    expect(component.list[0]?.type).toEqual(0);\r\n  });\r\n\r\n  it('should get only employees', () => {\r\n    const fixture = TestBed.createComponent(UsersComponent);\r\n    const service = TestBed.inject(UsersService);\r\n    const result: any[] =   [\r\n      {\r\n        id_usuario: 1,\r\n        nombre_usuario: \"empleado\",\r\n        contrase単a: \"empleado\",\r\n        nombre: \"empleado\",\r\n        apellido: \"empleado\",\r\n        email: \"empleado\",\r\n        telefono: \"11111111\",\r\n        direccion: \"empleado\",\r\n        tipo_usuario: 1 // 1 es el numero correspondiente a los empleados\r\n      }\r\n    ];\r\n    const spyGetUser = jest.spyOn(service, \"getAllUsers\").mockReturnValue(of(result));\r\n    const component = fixture.componentInstance;\r\n    component.getAllEmployees();\r\n    expect(component.list.length).toBeGreaterThan(0);\r\n    expect(component.list[0]?.type).toEqual(1);\r\n  });\r\n\r\n  it('should set showClientsFlag to true', () => {\r\n    const fixture = TestBed.createComponent(UsersComponent);\r\n    const component = fixture.componentInstance;\r\n    component.showClientsFlag = false;\r\n    component.showOnlyClients();\r\n    fixture.detectChanges();\r\n    expect(component.showClientsFlag).toEqual(true) ;\r\n    expect(component.showEmployeesFlag).toEqual(false);\r\n  });\r\n\r\n  it('should set showEmployeesFlag to true', () => {\r\n    const fixture = TestBed.createComponent(UsersComponent);\r\n    const component = fixture.componentInstance;\r\n    component.showClientsFlag = false;\r\n    component.showOnlyEmployees();\r\n    fixture.detectChanges();\r\n    expect(component.showEmployeesFlag).toEqual(true);\r\n    expect(component.showClientsFlag).toEqual(false);\r\n  });\r\n});\r\n"],"version":3}